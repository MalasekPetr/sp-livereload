{"version":3,"file":"Dialog.js","sourceRoot":"","sources":["../../../src/extensions/components/Dialog.ts"],"names":[],"mappings":";;;AAAA,mDAAgD;AAEhD,MAAM,cAAc,GAAG,MAAM,CAAC;AAE9B,MAAa,MAAO,SAAQ,iBAAiB;IAEzC,OAAO,CAAc;IACrB,QAAQ,CAAc;IACtB,YAAY,CAAgB;IAE5B,sBAAsB,CAAc;IACpC,qBAAqB,CAAc;IAEnC,YAAY,KAAa,EAAE,EAAU;QAEjC,KAAK,EAAE,CAAC;QAGR,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAA;QAEtD,IAAI,CAAC,YAAY,GAAG,IAAI,6BAAa,CAAC,qBAAqB,EAAE;YACzD,SAAS,EAAE,cAAc;SAC5B,CAAC,CAAA;QAEF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9D,IAAI,CAAC,SAAS,GAAG;qDAC4B,KAAK;;+BAE3B,CAAC;QAExB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAgB,CAAC;QAClE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAgB,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAElD,CAAC;IAEO,WAAW,GAAG,CAAC,KAAY,EAAE,EAAE;QAEnC,IAAI,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC;YAEpC,IAAI,CAAC,KAAK,EAAE,CAAC;QAEjB,CAAC;aAAM,CAAC;YAEJ,IAAI,CAAC,IAAI,EAAE,CAAC;QAEhB,CAAC;IAEL,CAAC,CAAA;IAEO,eAAe,CAAC,KAAoB;QAExC,IAAI,KAAK,CAAC,OAAO,KAAK,CAAC,EAAE,CAAC;YACtB,cAAc;YACd,IAAI,KAAK,CAAC,QAAQ,IAAI,QAAQ,CAAC,aAAa,KAAK,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBAC3E,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC;YACvC,CAAC;iBAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,QAAQ,CAAC,aAAa,KAAK,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAClF,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,CAAC;YACxC,CAAC;QACL,CAAC;IAEL,CAAC;IAED,aAAa,CAAC,OAA8B;QAExC,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;IAEhE,CAAC;IAGD,IAAW,OAAO;QACd,OAAO,IAAI,CAAC;IAChB,CAAC;CAEJ;AA5ED,wBA4EC;AAED,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC","sourcesContent":["import { HooIconButton } from \"./HooIconButton\";\n\nconst DLG_ATTR_STATE = 'open';\n\nexport class Dialog extends HTMLDialogElement {\n\n    _header: HTMLElement;\n    _content: HTMLElement;\n    _closeButton: HooIconButton;\n\n    _firstFocusableElement: HTMLElement;\n    _lastFocusableElement: HTMLElement;\n\n    constructor(title: string, id: string) {\n\n        super();\n\n\n        this.id = id;\n        this.classList.add('dlg');\n        this.addEventListener('keydown', this.keyboardHandler)\n\n        this._closeButton = new HooIconButton('icon-dismiss-filled', {\n            ariaLabel: 'Close Dialog',\n        })\n\n        this._closeButton.addEventListener('click', this.changeState);\n\n        this.innerHTML = `<div class='dlg-inner'>\n                    <header class='dlg-header'><h2>${title}</h2></header>\n                    <div class=\"dlg-content\"></div>\n                        </div>`;\n\n        this._content = this.querySelector('.dlg-content') as HTMLElement;\n        this._header = this.querySelector('.dlg-header') as HTMLElement;\n        this._header.append(this._closeButton.Button);\n\n    }\n\n    private changeState = (event: Event) => {\n\n        if (this.hasAttribute(DLG_ATTR_STATE)) {\n\n            this.close();\n\n        } else {\n\n            this.show();\n\n        }\n\n    }\n\n    private keyboardHandler(event: KeyboardEvent) {\n\n        if (event.keyCode === 9) {\n            //Rotate Focus\n            if (event.shiftKey && document.activeElement === this._firstFocusableElement) {\n                event.preventDefault();\n                this._lastFocusableElement.focus();\n            } else if (!event.shiftKey && document.activeElement === this._lastFocusableElement) {\n                event.preventDefault();\n                this._firstFocusableElement.focus();\n            }\n        }\n\n    }\n\n    appendContent(content: NodeListOf<ChildNode>) {\n\n        const childNodes = Array.from(content);\n        childNodes.forEach(item => this._content.appendChild(item));\n\n    }\n\n\n    public get content(): HTMLDialogElement {\n        return this;\n    }\n\n}\n\ncustomElements.define('pnp-lrdialog', Dialog, { extends: 'dialog' });"]}