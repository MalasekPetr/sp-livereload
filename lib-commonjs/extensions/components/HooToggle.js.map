{"version":3,"file":"HooToggle.js","sourceRoot":"","sources":["../../../src/extensions/components/HooToggle.ts"],"names":[],"mappings":";;;AAAA,6CAA4C;AAW5C,MAAa,SAAS;IAEpB,GAAG,CAAU;IACb,UAAU,CAAe;IACzB,YAAY,CAAoB;IAChC,WAAW,CAAoB;IAC/B,iBAAiB,CAAqB;IACtC,mBAAmB,CAAqB;IAExC,YAAY,MAAkB,EAAE,QAAqB,EAAE,KAAoB;QAEzE,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;QAChE,CAAC;QAED,MAAM,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QAElC,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,MAAM,WAAW,GAAG,SAAS,CAAC,eAAe,CAAC;;;;;;eAMnC,EAAE,WAAW,CAAC,CAAC;QAE1B,MAAM,KAAK,GAA4B,WAAW,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QAEnF,IAAG,KAAK,IAAI,KAAK,EAAE,QAAQ,EAAC,CAAC;YAC3B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAClC,CAAC;QAED,IAAI,KAAK,EAAE,CAAC;YACV,IAAI,CAAC,YAAY,GAAG,KAAyB,CAAC;YAC9C,IAAI,CAAC,YAAY,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;QAClC,CAAC;QACD,IAAA,iBAAQ,EAAC,KAAK,CAAC,CAAC;QAEhB,MAAM,WAAW,GAAG,WAAW,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;QACnE,IAAI,WAAW,EAAE,CAAC;YAChB,IAAI,CAAC,WAAW,GAAG,WAA+B,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QACjD,CAAC;QACD,IAAA,iBAAQ,EAAC,WAAW,CAAC,CAAC;QAEtB,MAAM,WAAW,GAAG,WAAW,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;QACvE,IAAI,WAAW,EAAE,CAAC;YAChB,IAAI,CAAC,mBAAmB,GAAG,WAAgC,CAAC;YAC5D,IAAI,CAAC,mBAAmB,CAAC,WAAW,GAAG,MAAM,CAAC,aAAa,CAAC;QAC9D,CAAC;QACD,IAAA,iBAAQ,EAAC,WAAW,CAAC,CAAC;QAEtB,MAAM,SAAS,GAAG,WAAW,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;QACnE,IAAI,WAAW,EAAE,CAAC;YAChB,IAAI,CAAC,iBAAiB,GAAG,SAA8B,CAAC;YACxD,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAC1D,CAAC;QACD,IAAA,iBAAQ,EAAC,SAAS,CAAC,CAAC;QACpB,IAAA,iBAAQ,EAAC,WAAW,CAAC,CAAC;QAEtB,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,UAAkB,CAAC,CAAC;IAEvD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,GAAG,GAAG,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;IAC/D,CAAC;IAED,IAAI,OAAO;QACT,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;IACrC,CAAC;IAED,IAAI,OAAO,CAAC,KAAc;QACxB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC;IACtC,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;IACnC,CAAC;IAED,IAAI,OAAO,CAAC,KAAc;QACxB,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,gBAAgB,CAAsC,IAAO,EAAE,QAAqE,EAAE,OAA2C;QAE/K,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAE9D,CAAC;CACF;AA1FD,8BA0FC","sourcesContent":["import { LogDebug } from \"../common/Logger\";\n\nexport interface IHooToggle {\n  labelActive: string,\n  labelInactive: string,\n}\n\nexport interface IToggleProps {\n  tabIndex: number\n}\n\nexport class HooToggle {\n\n  _ID!: string;\n  _component!: HTMLElement;\n  _inputToggle!: HTMLInputElement;\n  _inputLabel!: HTMLLabelElement;\n  _inputStateActive!: HTMLOutputElement;\n  _inputStateInactive!: HTMLOutputElement;\n\n  constructor(labels: IHooToggle, appendTo: HTMLElement, props?: IToggleProps) {\n\n    if (!appendTo) {\n      throw new Error(\"I don't know where to append it to the DOM\");\n    }\n\n    const domParser = new DOMParser();\n\n    this._generateID();\n\n    const domControls = domParser.parseFromString(`<div class=\"hoo-toggle\">\n            <input type=\"checkbox\" class=\"hoo-toggle-cb\" name=\"toggleName\" id=\"toggle-44\">\n            <label for= \"toggle-44\" class=\"hoo-toggle-label\"> \n                <output class= \"hoo-toggle-slider\"></output>\n                <output class=\"hoo-toggle-checked\">On</output><output class= \"hoo-toggle-unchecked\">Off</output>\n            </label>\n        </div>`, \"text/html\");\n\n    const input: HTMLInputElement | null = domControls.querySelector('.hoo-toggle-cb');\n\n    if(input && props?.tabIndex){\n      input.tabIndex = props.tabIndex;\n    }\n\n    if (input) {\n      this._inputToggle = input as HTMLInputElement;\n      this._inputToggle.id = this._ID;\n    }\n    LogDebug(input);\n\n    const toggleLabel = domControls.querySelector('.hoo-toggle-label');\n    if (toggleLabel) {\n      this._inputLabel = toggleLabel as HTMLLabelElement;\n      this._inputLabel.setAttribute('for', this._ID);\n    }\n    LogDebug(toggleLabel);\n\n    const lblInactive = domControls.querySelector('.hoo-toggle-unchecked');\n    if (lblInactive) {\n      this._inputStateInactive = lblInactive as HTMLOutputElement;\n      this._inputStateInactive.textContent = labels.labelInactive;\n    }\n    LogDebug(lblInactive);\n\n    const lblActive = domControls.querySelector('.hoo-toggle-checked');\n    if (lblInactive) {\n      this._inputStateActive = lblActive as HTMLOutputElement;\n      this._inputStateActive.textContent = labels.labelActive;\n    }\n    LogDebug(lblActive);\n    LogDebug(domControls);\n\n    appendTo.append(domControls.body.firstChild as Node);\n\n  }\n\n  _generateID() {\n    this._ID = 'hoo-toggle-' + Math.floor(Math.random() * 10000);\n  }\n\n  get enabled(): boolean {\n    return !this._inputToggle.disabled;\n  }\n\n  set enabled(value: boolean) {\n    this._inputToggle.disabled = !value;\n  }\n\n  get checked(): boolean {\n    return this._inputToggle.checked;\n  }\n\n  set checked(value: boolean) {\n    this._inputToggle.checked = value;\n  }\n\n  addEventListener<K extends keyof HTMLElementEventMap>(type: K, listener: (this: HTMLInputElement, ev: HTMLElementEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void {\n\n    this._inputToggle.addEventListener(type, listener, options);\n\n  }\n}"]}