{"version":3,"file":"AvailabilityState.js","sourceRoot":"","sources":["../../../src/extensions/components/AvailabilityState.ts"],"names":[],"mappings":";;;AAEA,MAAa,iBAAiB;IAE5B,MAAM,CAAqB;IAC3B,UAAU,CAAiB;IAC3B,UAAU,CAAc;IACxB,MAAM,CAAmB;IAEzB,YAAY,KAAyB,EAAE,SAAsB;QAE3D,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAElC,CAAC;IAED,eAAe,CAAC,SAAsB;QAEpC,MAAM,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QAElC,MAAM,GAAG,GAAG,SAAS,CAAC,eAAe,CAAC;;;;;;aAM7B,EAAE,WAAW,CAAC,CAAA;QAEvB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,UAA4B,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,aAAa,CAAC,mBAAmB,CAAgB,CAAC;QACxE,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,eAAe,CAAqB,CAAC;QACrE,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAA;QAE/E,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAEhB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;gBAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;YAAC,CAAC;iBAAM,CAAC;gBAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;YAAC,CAAC;QAE1H,CAAC;QAED,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAEpC,CAAC;IAGD,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IAC/B,CAAC;IAED,IAAW,SAAS,CAAC,CAAU;QAC7B,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;IAC5B,CAAC;IAED,QAAQ,CAAC,KAAyB;QAChC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;CAEF;AAtDD,8CAsDC","sourcesContent":["import { ILiveReloaderState } from \"../common/ILiveReloaderState\";\n\nexport class AvailabilityState {\n\n  _state: ILiveReloaderState;\n  _container: HTMLDivElement;\n  _indicator: HTMLElement;\n  _label: HTMLLabelElement;\n\n  constructor(state: ILiveReloaderState, parentDom: HTMLElement) {\n\n    this._state = state;\n    this.createIndicator(parentDom);\n\n  }\n\n  createIndicator(parentDom: HTMLElement) {\n\n    const domParser = new DOMParser();\n\n    const doc = domParser.parseFromString(`\n            <div class='status'>\n                <div class='status-indicator'>\n                </div>\n                <label class=\"status-label\"></label>\n            </div>\n            `, \"text/html\")\n\n    this._container = doc.body.firstChild as HTMLDivElement;\n    this._indicator = doc.querySelector('.status-indicator') as HTMLElement;\n    this._label = doc.querySelector('.status-label') as HTMLLabelElement;\n    this._label.textContent = this._state.available ? 'Available' : 'Not Available'\n\n    if (this._state) {\n\n      if (this._state.available) { this._indicator.classList.add('ready') } else { this._indicator.classList.remove('ready') }\n\n    }\n\n    parentDom.append(this._container);\n\n  }\n\n\n  public get available(): boolean {\n    return this._state.available;\n  }\n\n  public set available(v: boolean) {\n    this._state.available = v;\n  }\n\n  setState(state: ILiveReloaderState) {\n    this._state = state;\n  }\n\n}"]}