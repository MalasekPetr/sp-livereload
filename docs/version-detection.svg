<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700">
  <defs>
    <linearGradient id="subtleWarm" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e8e4de"/>
      <stop offset="100%" style="stop-color:#e0dbd4"/>
    </linearGradient>
  </defs>

  <!-- Background — warm off-white -->
  <rect width="1200" height="700" fill="#f5f2ed"/>

  <!-- Top rule -->
  <line x1="80" y1="60" x2="1120" y2="60" stroke="#1a1a1a" stroke-width="1"/>

  <!-- Title block -->
  <text x="80" y="110" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="48" font-weight="300" letter-spacing="6">
    VERSION DETECTION
  </text>
  <text x="80" y="140" fill="#666" font-family="Helvetica Neue, Helvetica, Arial" font-size="14" font-weight="300" letter-spacing="3">
    PnP SPFx Live Reloader v1.3
  </text>

  <!-- Thin rule under title -->
  <line x1="80" y1="160" x2="1120" y2="160" stroke="#ccc" stroke-width="0.5"/>

  <!-- ============================================ -->
  <!-- FLOW — version detection                     -->
  <!-- ============================================ -->

  <!-- Start: Extension loads -->
  <g transform="translate(220, 260)">
    <circle cx="0" cy="0" r="52" fill="none" stroke="#1a1a1a" stroke-width="1.5"/>
    <text x="0" y="-6" text-anchor="middle" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="15" font-weight="400">EXTENSION</text>
    <text x="0" y="12" text-anchor="middle" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="15" font-weight="400">LOADS</text>
    <text x="0" y="78" text-anchor="middle" fill="#666" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="300">onInit()</text>
  </g>

  <!-- Connector to detection -->
  <line x1="275" y1="260" x2="375" y2="260" stroke="#1a1a1a" stroke-width="1"/>
  <circle cx="375" cy="260" r="3" fill="#1a1a1a"/>

  <!-- Detection box -->
  <g transform="translate(500, 260)">
    <rect x="-120" y="-52" width="240" height="104" rx="0" fill="#1a1a1a"/>
    <text x="0" y="-18" text-anchor="middle" fill="#f5f2ed" font-family="Helvetica Neue, Helvetica, Arial" font-size="14" font-weight="500" letter-spacing="2">DETECT SPFx VERSION</text>
    <text x="0" y="8" text-anchor="middle" fill="#aaa" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">Check for webpackHotUpdate*</text>
    <text x="0" y="26" text-anchor="middle" fill="#aaa" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">functions on window</text>
  </g>

  <!-- Connector to decision -->
  <line x1="620" y1="260" x2="658" y2="260" stroke="#1a1a1a" stroke-width="1"/>

  <!-- Branch point -->
  <circle cx="680" cy="260" r="22" fill="none" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="680" y="267" text-anchor="middle" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="18" font-weight="400">?</text>

  <!-- Upper branch — SPFx 1.22+ -->
  <line x1="680" y1="238" x2="680" y2="190" stroke="#1a1a1a" stroke-width="1"/>
  <line x1="680" y1="190" x2="820" y2="190" stroke="#1a1a1a" stroke-width="1"/>
  <circle cx="820" cy="190" r="3" fill="#1a1a1a"/>

  <!-- SPFx 1.22+ label -->
  <text x="820" y="175" text-anchor="end" fill="#4169a6" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="400" letter-spacing="1">SPFx 1.22+</text>

  <!-- SPFx 1.22+ result -->
  <g transform="translate(960, 190)">
    <rect x="-130" y="-42" width="260" height="84" rx="0" fill="none" stroke="#4169a6" stroke-width="2"/>
    <text x="0" y="-12" text-anchor="middle" fill="#4169a6" font-family="Helvetica Neue, Helvetica, Arial" font-size="14" font-weight="400">HMR INTERCEPTOR</text>
    <text x="0" y="12" text-anchor="middle" fill="#555" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">Intercept webpackHotUpdate*</text>
    <text x="0" y="28" text-anchor="middle" fill="#555" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">Enable/disable HMR on demand</text>
  </g>

  <!-- Lower branch — SPFx 1.21 and below -->
  <line x1="680" y1="282" x2="680" y2="330" stroke="#1a1a1a" stroke-width="1"/>
  <line x1="680" y1="330" x2="820" y2="330" stroke="#1a1a1a" stroke-width="1"/>
  <circle cx="820" cy="330" r="3" fill="#1a1a1a"/>

  <!-- SPFx 1.21- label -->
  <text x="820" y="345" text-anchor="end" fill="#d97945" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="400" letter-spacing="1">SPFx ≤ 1.21</text>

  <!-- SPFx 1.21- result -->
  <g transform="translate(960, 330)">
    <rect x="-130" y="-42" width="260" height="84" rx="0" fill="none" stroke="#d97945" stroke-width="2"/>
    <text x="0" y="-12" text-anchor="middle" fill="#d97945" font-family="Helvetica Neue, Helvetica, Arial" font-size="14" font-weight="400">WEBSOCKET ONLY</text>
    <text x="0" y="12" text-anchor="middle" fill="#555" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">Listen to WebSocket messages</text>
    <text x="0" y="28" text-anchor="middle" fill="#555" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300">Page refresh triggered by browser</text>
  </g>

  <!-- ============================================ -->
  <!-- COMPARISON TABLE                             -->
  <!-- ============================================ -->

  <!-- Divider -->
  <line x1="80" y1="430" x2="1120" y2="430" stroke="#ccc" stroke-width="0.5"/>

  <!-- Table header -->
  <text x="200" y="475" text-anchor="middle" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="12" font-weight="500" letter-spacing="2">FEATURE</text>
  <text x="600" y="475" text-anchor="middle" fill="#4169a6" font-family="Helvetica Neue, Helvetica, Arial" font-size="12" font-weight="500" letter-spacing="2">SPFx 1.22+</text>
  <text x="1000" y="475" text-anchor="middle" fill="#d97945" font-family="Helvetica Neue, Helvetica, Arial" font-size="12" font-weight="500" letter-spacing="2">SPFx ≤ 1.21</text>

  <!-- Vertical dividers -->
  <line x1="400" y1="455" x2="400" y2="640" stroke="#e0dbd4" stroke-width="0.5"/>
  <line x1="800" y1="455" x2="800" y2="640" stroke="#e0dbd4" stroke-width="0.5"/>

  <!-- Row 1: HMR Control -->
  <text x="80" y="515" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">HMR Control</text>
  <text x="600" y="515" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ Full control</text>
  <text x="1000" y="515" text-anchor="middle" fill="#c45a2c" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✗ No control</text>

  <!-- Row 2: Toggle Connection -->
  <text x="80" y="555" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">Toggle Connection</text>
  <text x="600" y="555" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ HMR + WebSocket</text>
  <text x="1000" y="555" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ WebSocket only</text>

  <!-- Row 3: Pending Updates -->
  <text x="80" y="595" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">Pending Updates</text>
  <text x="600" y="595" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ Badge count</text>
  <text x="1000" y="595" text-anchor="middle" fill="#c45a2c" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✗ Not tracked</text>

  <!-- Row 4: Apply Changes -->
  <text x="80" y="635" fill="#1a1a1a" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">Apply Changes</text>
  <text x="600" y="635" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ Manual + Auto</text>
  <text x="1000" y="635" text-anchor="middle" fill="#2d8a4e" font-family="Helvetica Neue, Helvetica, Arial" font-size="11" font-weight="400">✓ Auto on reconnect</text>

  <!-- Horizontal row dividers -->
  <line x1="80" y1="530" x2="1120" y2="530" stroke="#e0dbd4" stroke-width="0.5"/>
  <line x1="80" y1="570" x2="1120" y2="570" stroke="#e0dbd4" stroke-width="0.5"/>
  <line x1="80" y1="610" x2="1120" y2="610" stroke="#e0dbd4" stroke-width="0.5"/>

  <!-- ============================================ -->
  <!-- FOOTER                                       -->
  <!-- ============================================ -->
  <line x1="80" y1="660" x2="1120" y2="660" stroke="#ccc" stroke-width="0.5"/>

  <text x="80" y="685" fill="#888" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300" letter-spacing="1">
    LESS, BUT BETTER
  </text>
  <text x="1120" y="685" text-anchor="end" fill="#888" font-family="Helvetica Neue, Helvetica, Arial" font-size="10" font-weight="300" letter-spacing="1">
    github.com/pnp/sp-live-reload
  </text>
</svg>
